<h2 mat-dialog-title>Detalles de la Factura</h2>

<mat-dialog-content>
  <div>
    <h3>{{ invoice.invoiceNumber }}</h3>
    <p>
      <strong>Cliente:</strong>
      {{ invoice.clientName }}
    </p>
    <p>
      <strong>Fecha:</strong>
      {{ invoice.issueDate | date: 'shortDate' }}
    </p>
    <p>
      <strong>Total:</strong>
      {{ invoice.totalAmount | currency }}
    </p>
    <p>
      <strong>Estado:</strong>
      {{ invoice.status }}
    </p>
    <p>
      <strong>Nombre de la entidad:</strong>
      {{ invoice.entitiName }}
    </p>
    <!-- Tabla con detalles de los productos -->
    <table mat-table [dataSource]="invoice.details" class="mat-elevation-z2 full-width-table">
      <!-- Definimos las columnas de la tabla -->
      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef>Producto</th>
        <td mat-cell *matCellDef="let item">{{ item.productName }}</td>
      </ng-container>

      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef>Cantidad</th>
        <td mat-cell *matCellDef="let item">{{ item.quantity }}</td>
      </ng-container>

      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Total</th>
        <td mat-cell *matCellDef="let item">{{ item.totalPrice  | currency }}</td>
      </ng-container>

      <!-- Definimos la fila de encabezado y las filas de los datos -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button (click)="closeModal()">Cerrar</button>
</mat-dialog-actions>
